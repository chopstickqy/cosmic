{"title":"解决IE8连接TLS 1.0服务端的问题","uid":"8106ab3111152a5d4804fa67308308c0","slug":"2020-03-27","date":"2020-03-26T16:00:00.000Z","updated":"2025-02-15T17:52:03.175Z","comments":true,"path":"api/articles/2020-03-27.json","keywords":null,"cover":null,"content":"<h2 id=\"问题描述\"><a href=\"#问题描述\" class=\"headerlink\" title=\"问题描述\"></a>问题描述</h2><p>在某些情况下，IE8客户端无法连接到支持TLS 1.0协议的服务端。这表明客户端请求的Cipher Suite在服务端不被支持。问题原因是服务端的JDK&#x2F;JRE默认不支持IE8所需的Cipher Suite。</p>\n<h2 id=\"IE8支持的Cipher-Suite\"><a href=\"#IE8支持的Cipher-Suite\" class=\"headerlink\" title=\"IE8支持的Cipher Suite\"></a>IE8支持的Cipher Suite</h2><p>以下是IE8在TLS1.0协议下支持的Cipher Suite列表：</p>\n<ul>\n<li>Cipher Suite: TLS_RSA_WITH_AES_256_CBC_SHA (0x0035)</li>\n<li>Cipher Suite: TLS_RSA_WITH_3DES_EDE_CBC_SHA (0x000a)</li>\n<li>Cipher Suite: TLS_RSA_WITH_AES_128_CBC_SHA (0x002f)</li>\n<li>Cipher Suite: TLS_RSA_WITH_RC4_128_SHA (0x0005)</li>\n<li>Cipher Suite: TLS_RSA_WITH_RC4_128_MD5 (0x0004)</li>\n<li>Cipher Suite: TLS_RSA_WITH_DES_CBC_SHA (0x0009)</li>\n</ul>\n<h2 id=\"问题分析\"><a href=\"#问题分析\" class=\"headerlink\" title=\"问题分析\"></a>问题分析</h2><p>当前装的JDK&#x2F;JRE版本并不包含这些Cipher Suite，因此导致IE8无法连接到服务端。</p>\n<h2 id=\"解决方法\"><a href=\"#解决方法\" class=\"headerlink\" title=\"解决方法\"></a>解决方法</h2><h3 id=\"1-下载并安装Java-Cryptography-Extension-JCE-Unlimited-Strength-Jurisdiction-Policy-Files\"><a href=\"#1-下载并安装Java-Cryptography-Extension-JCE-Unlimited-Strength-Jurisdiction-Policy-Files\" class=\"headerlink\" title=\"1. 下载并安装Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files\"></a>1. 下载并安装Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files</h3><p>为了解决Cipher Suite不兼容的问题，我们需要下载并安装Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files。</p>\n<ul>\n<li>下载地址：<a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html\">JCE Unlimited Strength Jurisdiction Policy Files 8</a></li>\n<li>安装后，需要替换掉JRE的<code>lib/security</code>目录下的两个jar文件。</li>\n</ul>\n<h3 id=\"2-配置服务端支持更多Cipher-Suites\"><a href=\"#2-配置服务端支持更多Cipher-Suites\" class=\"headerlink\" title=\"2. 配置服务端支持更多Cipher Suites\"></a>2. 配置服务端支持更多Cipher Suites</h3><p>安装JCE后，我们需要在Spring Boot的配置文件中指定支持的Cipher Suites。以下是一个包含常见Cipher Suites的配置，可以将其加入到<code>application.yml</code>文件中：</p>\n<div class=\"language-yaml\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">yaml</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #F07178\">server</span><span style=\"color: #89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #F07178\">ssl</span><span style=\"color: #89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #F07178\">ciphers</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">TLS_ECDH_anon_WITH_RC4_128_SHA, TLS_ECDH_ECDSA_WITH_RC4_128_SHA,</span><span style=\"color: #BABED8\"> </span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            </span><span style=\"color: #C3E88D\">TLS_ECDH_RSA_WITH_RC4_128_SHA, TLS_ECDHE_ECDSA_WITH_RC4_128_SHA</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            </span><span style=\"color: #C3E88D\">TLS_KRB5_EXPORT_WITH_RC4_40_MD5, TLS_KRB5_EXPORT_WITH_RC4_40_SHA</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            </span><span style=\"color: #C3E88D\">TLS_KRB5_WITH_RC4_128_MD5, TLS_KRB5_WITH_RC4_128_SHA</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            </span><span style=\"color: #C3E88D\">TLS_DH_anon_WITH_AES_128_GCM_SHA256, TLS_DH_anon_WITH_AES_256_GCM_SHA384</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            </span><span style=\"color: #C3E88D\">TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            </span><span style=\"color: #C3E88D\">TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            </span><span style=\"color: #C3E88D\">TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            </span><span style=\"color: #C3E88D\">TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            </span><span style=\"color: #C3E88D\">TLS_RSA_WITH_RC4_128_MD5, TLS_RSA_WITH_RC4_128_SHA</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            </span><span style=\"color: #C3E88D\">TLS_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            </span><span style=\"color: #C3E88D\">TLS_ECDHE_RSA_WITH_RC4_128_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            </span><span style=\"color: #C3E88D\">TLS_RSA_WITH</span></span></code></pre></div>","text":"问题描述在某些情况下，IE8客户端无法连接到支持TLS 1.0协议的服务端。这表明客户端请求的Cipher Suite在服务端不被支持。问题原因是服务端的JDK...","permalink":"/post/2020-03-27","photos":[],"count_time":{"symbolsCount":"2k","symbolsTime":"2 mins."},"categories":[{"name":"技术","slug":"技术","count":3,"path":"api/categories/技术.json"}],"tags":[{"name":"TLS","slug":"TLS","count":1,"path":"api/tags/TLS.json"},{"name":"Cipher Suite","slug":"Cipher-Suite","count":1,"path":"api/tags/Cipher-Suite.json"},{"name":"JDK","slug":"JDK","count":1,"path":"api/tags/JDK.json"},{"name":"JRE","slug":"JRE","count":1,"path":"api/tags/JRE.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%97%AE%E9%A2%98%E6%8F%8F%E8%BF%B0\"><span class=\"toc-text\">问题描述</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#IE8%E6%94%AF%E6%8C%81%E7%9A%84Cipher-Suite\"><span class=\"toc-text\">IE8支持的Cipher Suite</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90\"><span class=\"toc-text\">问题分析</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95\"><span class=\"toc-text\">解决方法</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-%E4%B8%8B%E8%BD%BD%E5%B9%B6%E5%AE%89%E8%A3%85Java-Cryptography-Extension-JCE-Unlimited-Strength-Jurisdiction-Policy-Files\"><span class=\"toc-text\">1. 下载并安装Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-%E9%85%8D%E7%BD%AE%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%94%AF%E6%8C%81%E6%9B%B4%E5%A4%9ACipher-Suites\"><span class=\"toc-text\">2. 配置服务端支持更多Cipher Suites</span></a></li></ol></li></ol>","author":{"name":"Charles","slug":"blog-author","avatar":"https://chopstickqy.github.io/images/logo.png","link":"/","description":"Think like an artist, develop like an artisan.","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"深入了解 qiankun 微前端架构","uid":"1624086166b29c0173181762fde3aaec","slug":"2021-07-26","date":"2021-07-25T16:00:00.000Z","updated":"2025-02-15T17:52:03.176Z","comments":true,"path":"api/articles/2021-07-26.json","keywords":null,"cover":null,"text":"前言随着前端应用的复杂度不断提升，传统的单体应用架构逐渐暴露出维护困难、技术栈升级困难等问题。为了解决这些挑战，微前端架构应运而生。qiankun 作为一款基于...","permalink":"/post/2021-07-26","photos":[],"count_time":{"symbolsCount":"7.8k","symbolsTime":"7 mins."},"categories":[{"name":"技术","slug":"技术","count":3,"path":"api/categories/技术.json"}],"tags":[{"name":"qiankun","slug":"qiankun","count":1,"path":"api/tags/qiankun.json"},{"name":"微前端","slug":"微前端","count":1,"path":"api/tags/微前端.json"},{"name":"前端架构","slug":"前端架构","count":1,"path":"api/tags/前端架构.json"}],"author":{"name":"Charles","slug":"blog-author","avatar":"https://chopstickqy.github.io/images/logo.png","link":"/","description":"Think like an artist, develop like an artisan.","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{}}